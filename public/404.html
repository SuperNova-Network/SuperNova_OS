<html>
  <head>
    <title>SnTerminal: 404</title>
    <link id="favicon" rel="icon" href="images/peterminal.png">
    <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <style>
      body{
        background-color:black;
        overflow:auto;
      }
      
      #hackprog{
        display: none;
        position: fixed;
        top: 0;
        right: 0;
        color: #0c0;
        font-family: VT323,monospace;
        text-align:right;
        font-size: 1.5vw;
        background-color: #222;
        padding: 0.5vw;
        padding-right: 1vw;
      }
      
      p,input{
        color:#0c0;
        font-family:VT323,monospace;
        font-size:1.5vw;
        margin-bottom:0;
        margin-top:0;
        min-height: 1.5vw;
      }
      
      input{
        width:100%;
        background-color:transparent;
        outline:none;
        border:none;
      }
      
      p::selection,input::selection{
        background-color:#0a0;
        color:black;
      }
      
      a{
        text-decoration:underline;
        cursor:pointer;
      }
      
      #caret{
        width:1vw;
        height:1.5vw;
        background-color:transparent;
        animation:blink 1s steps(1,start) infinite;
      }
      
      @keyframes blink{
        50%{background-color:#0a0;}
      }
      
      /*scrollbar*/
      ::-webkit-scrollbar {
        width: 12px;
      }
      
      ::-webkit-scrollbar-thumb {
        background: #0a0; 
      }
      ::-webkit-scrollbar-thumb:window-inactive {
      	background: #030;
      }
    </style>
  </head>
  <customscripts>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
    <script id="hacker"></script>
  </customscripts>
  <body>
    <audio loop preload="auto" id="osd" src="images/osd.mp3" type="audio/mpeg"></audio>
    
    <div id="hackprog"></div>
    <div id="terminal">
      <p>
        <span id="caret">&nbsp;</span>
      </p>
    </div>
    <script>
      document.getElementsByTagName("body")[0].addEventListener("keydown",function(event){insert(event);});
      var currentP=document.getElementsByTagName("p")[0];
      var currentIndex=0,currentInputIndex=-1;
      var spacing="%-----------------------------------------------";
      var command="SnTerminal 1.0.3 Error_404_Exception_Handler"+spacing+"%%Oh crap! This page doesn't exist!%^^^Error: 404%^^^Cause: SuperNova has not been productive enough, or the web is not ready for your request.%^^^Solution 0: tell him to make more pages.%^^^Solution 1: Make your own files and tell him to add them.%^^^Solution 2: Get the bloody URL right.%%^^^^^Type 'HACK' to become a hacker and hack the mainframe.%^^^^^'HOME' to go to my home page. <a onclick=checkInput(\"HOME\")>You can also click here.</a>%^^^^^'ASCII' to create Ascii art.%^^^^^'TTT' to play Tic-tac-toe.%%^^^^^--other fun stuff--%^^^^^'HELP' for help.%^^^^^'PRIME' to generate a cool set of primes.%^^^^^'GAME' to play a small game."+spacing, commandOut="";
var commandPos=0;      var writing=true;
      var commands=["HELP","ASCII","HOME","GAME","TTT","PRIME","HACK"];
      var ascii_letters = ["^_____^","/^^_^^\\","|^|_|^|","|^^_^^|","|^|^|^|","|_|^|_|","^____^^","|^^_^\\^","|^|_|^|","|^^_^<^","|^|_|^|","|____/^","^_____^","/^^___|","|^|^^^^","|^|^^^^","|^|___^","\\_____|","^____^^","|^^_^\\^","|^|^|^|","|^|^|^|","|^|_|^|","|____/^","^_____^","|^^___|","|^|___^","|^^___|","|^|___^","|_____|","^_____^","|^^___|","|^|___^","|^^___|","|^|^^^^","|_|^^^^","^_____^","/^^___|","|^|^^^^","|^|^^_^","|^|_|^|","\\_____|","^_^^^_^","|^|^|^|","|^|_|^|","|^^_^^|","|^|^|^|","|_|^|_|","^_____^","|_^^^_|","^^|^|^^","^^|^|^^","^_|^|_^","|_____|","^_____^","|___^^|","^^^^|^|","^_^^|^|","|^|_|^|","\\_____/","^_^^^_^","|^|^/^|","|^|/^/^","|^^^<^^","|^|\\^\\^","|_|^\\_|","^_^^^^^","|^|^^^^","|^|^^^^","|^|^^^^","|^|___^","|_____|","^_^^^_^","|^\\_/^|","|^^^^^|","|^\\_/^|","|^|^|^|","|_|^|_|","^_^^^_^","|^\\^|^|","|^^\\|^|","|^^^^^|","|^|\\^^|","|_|^\\_|","^_____^","/^^_^^\\","|^|^|^|","|^|^|^|","|^|_|^|","\\_____/","^_____^","|^^_^^\\","|^|_|^|","|^^___/","|^|^^^^","|_|^^^^","^_____^","/^^_^^\\","|^|^|^|","|^|^|^|","|^|_/\\|","\\___\\_\\","^_____^","|^^_^^\\","|^|_|^|","|^^^^_/","|^|\\^\\^","|_|^\\_\\","^_____^","/^^___|","|^|___^","|___^^|","^___|^|","|_____/","^_____^","|_^^^_|","^^|^|^^","^^|^|^^","^^|^|^^","^^|_|^^","^_^^^_^","|^|^|^|","|^|^|^|","|^|^|^|","|^|_|^|","\\_____/","^_^^^_^","|^|^|^|","|^|^|^|","|^|^|^|","\\^\\^/^/","^\\___/^","^_^^^^_^","|^|^^|^|","|^|^^|^|","|^|/\\|^|","|^^^^^^|","\\__/\\__/","^_^^^_^","\\^\\^/^/","^\\^/^/^","^^/^/^^","^/^/^\\^","/_/^\\_\\","^_^^^_^","|^|^|^|","\\^\\^/^/","^\\^\\^/^","^^|^|^^","^^|_|^^","^_____^","|___^^|","^^^/^/^","^^/^/^^","^/^/__^","|_____|"];
      var ascii_numbers = ["^_____^","/^^_^^\\","|^|^|^|","|^|^|^|","|^|_|^|","\\_____/","^^__^^^","^/^^|^^","|_/^|^^","^^|^|^^","^_|^|_^","|_____|","^^___^^","^/^_^\\^","/_//^/^","^^/^/^^","^/^/__^","|_____|","^_____^","/^^_^^\\","|_|^|^|","^_^^<^<","|^|_|^|","\\_____/","^_^^^_^","|^|^|^|","|^|_|^|","|___^^|","^^^^|^|","^^^^|_|","^_____^","|^^___|","|^|___^","|___^^\\","^___|^|","|_____/","^_____^","/^^___\\","|^|___^","|^^_^^\\","|^|_|^|","\\_____/","^_____^","|___^^|","^^^^/^/","^^^/^/^","^^/^/^^","^/_/^^^","^_____^","/^^_^^\\","|^\\_/^|","^>^_^<^","|^/_\\^|","\\_____/","^_____^","/^^_^^\\","|^|_|^|","\\___^^|","^___|^|","\\_____/"];
      var fortunes = ["The current solution offered by Nvidia may be the second-best solution. But this is one case where the second best solution is not good enough.","Whenever you spell \"JavaScript\" with a lowercase \"s\" (and a capital \"J\"), God kills a kitten.","Whenever you use JavaScript on the server, God kills a datacenter.","Mothers used to tell their children stories about XSLT to scare them. ","Chuck Norris can only convince you that you're deceased. Summer Glau can also convince you that you're alive, which is much harder. ","A conclusion is simply the place where you got tired of thinking.","A professor is one who talks in someone else's sleep.","Chuck Norris was the 1,000,000,000th viewer of the Gangnam Style video on YouTube.","I had a lovely evening. Unfortunately, this wasn't it. - Groucho Marx","Cats aren't clean, they're just covered with cat spit.","A cat has claws ending its paws. A sentence has a pause ending its clause.","Cigarette: tobacco wrapped in paper, fire at one end, and a fool at the other.","How's he gonna read that magazine rolled up like that? What the ... - a fly.","If you choke a Smurf, what color does it turn?","Rule of Open-Source Programming #20: Open Code != Good Code","New! Divorcee Barbie! Comes with all the usual accessories, plus all of Ken's stuff","\"Mommy! The garbage man is here!\" \"Well, tell him we don't want any!\"- Groucho Marx","Chuck Norris does not own a dishwasher. His dishes know better than to become dirty.","The more I think about it, the more I think I should think about it some more.","I don't suffer from insanity, I enjoy every minute of it.","If the ancient Greeks had invented UNIX, Murphy’s Law would have been known as Aristotle’s Law. Had they invented MS-Windows, Murphy’s Law would have been known as the Law of Socrates.","The space between my ears was intentionally left blank.","I/O, I/O, It's off to disk I go, a bit or byte to read or write, I/O, I/O, I/O, I/O ","On \"Talk Like a Pirate Day\", ye be sailin’ across the great seas to seek the shore of Summer Glows and Summer Glaus. Arrrr! ","If the universe is expanding, why can't I find a parking space?","You had no right coming down to my office, Ross. You do not bring a picnic basket to somebody’s work! Unless maybe they were a park ranger. ","Larry Wall can make shit up, and the computer will understand what he means.","Chuck Norris can make East and West meet.","Drink varnish and you'll get a lovely finish."];
      var action=0,clock=0,thread,hackTime,randomString="";
      var guess,userGuess,guesses;
      var board="",sd,compStarts=true,clientScore=0,compScore=0;
      
      //Had to resort to jQuery...
      $(function(){
        var rx = /INPUT|SELECT|TEXTAREA/i;
        $(document).bind("keydown keypress", function(e){
          if( e.which == 8 ){ // 8 == backspace
            if(!rx.test(e.target.tagName) || e.target.disabled || e.target.readOnly ){
              e.preventDefault();
            }
          }
        });
      });
      
      function insert(event){
        var kc=event.keyCode;
        if (!writing&&action!=2&&kc!=16&&kc!=20){
          //alert(kc);
          if (kc==8){
            tmpStr="";
            for (var i=0;i<command.length-1;i++){
              tmpStr+=command.charAt(i);
            }
            command=tmpStr;
          }else if (kc==13){
            checkInput(command);
            //newLine(true);
          }else{
            command+=String.fromCharCode(kc);
          }
          currentP.innerHTML=command+"<span id=\"caret\">&nbsp;</span>";
          if (action==4&&kc==27){
            action=0;
            writing=true;
            newLine(true);
            command="Final score:%^^You:"+clientScore+" Me:"+compScore+"%"+spacing;
          }
        }else if (action==2&&kc==13){
          checkInput("");  //Null made things go bad.
        }else if (action==2&&kc==27){
          document.title="SnTerminal: 404";
          var elem=document.getElementsByTagName("input")[currentInputIndex];
          elem.parentNode.removeChild(elem);
          currentInputIndex--;
          writing=true;
          newLine(true);
          command="%---HACKER MODE TERMINATED---"+spacing;
          action=0;
          var elem=document.getElementById("favicon");
          elem.parentNode.removeChild(elem);
          var link=document.createElement("link");
          link.setAttribute("id","favicon");
          link.setAttribute("rel","icon");
          link.setAttribute("href","images/peterminal.png");
          document.head.appendChild(link);
          document.getElementById("hackprog").style.display="none";
        }
        window.scrollTo(0,document.body.scrollHeight);
      }
      
      function newLine(clear){
        if (clear){
          currentP.innerHTML=command;
          command="";
          var sound=document.getElementById("osd");
          sound.currentTime=0;
          sound.play();
        }else{
          currentP.innerHTML=commandOut;
          commandOut="";
        }
        
        var p=document.createElement("p");
        var span=document.createElement("span");
        span.setAttribute("id","caret");
        span.innerHTML="&nbsp;";
        p.appendChild(span);
        document.getElementById("terminal").appendChild(p);
        currentIndex++;
        currentP=document.getElementsByTagName("p")[currentIndex];
        window.scrollTo(0,document.body.scrollHeight);
      }
      
      function newInput(){
        var input=document.createElement("input");
        input.setAttribute("spellcheck","false");
        document.getElementById("terminal").appendChild(input);
        if (currentInputIndex>=0){
          document.getElementsByTagName("input")[currentInputIndex].setAttribute("readonly","true");
          var elem = document.getElementById("hacker");
          elem.parentNode.removeChild(elem);
        }
        currentInputIndex++;
        document.getElementsByTagName("input")[currentInputIndex].focus();
        window.scrollTo(0,document.body.scrollHeight);
      }
      
      function printChar(){
        if (writing){
          var char=command.charAt(commandPos);
          if (char=='%'){
            newLine(false);
            commandOut="";
          }else if(char=='^'){
            commandOut+="&nbsp;";
          }else{
            commandOut+=char;
          }
          currentP.innerHTML=commandOut+"<span id=\"caret\">&nbsp;</span>";
          commandPos++;
          if (commandPos==command.length){
            commandPos=0;
            writing=false;
            if (action==2){
              currentP.innerHTML=commandOut
              newInput();
            }else{
              newLine(false);
            }
            if (action==100){window.location.href="https://picturelements.github.io/";}
            command="";
            document.getElementById("osd").pause();
          }
        }
        
        if (action==2){
          var hacking=document.getElementById("hackprog");
          var totTime=new Date().getTime()-hackTime,secTime=Math.floor(totTime/1000),minTime=Math.floor(secTime/60);
          if (clock%10==1){
            randomString="";
            for (var i=0;i<50;i++){
              randomString+=(Math.random()*2<1?String.fromCharCode(Math.floor(Math.random()*25+65)):String.fromCharCode(Math.floor(Math.random()*25+97)));
            }
          }
          var tmpTot=totTime%1000,msOut=""+tmpTot;
          if (tmpTot<10){msOut="00"+tmpTot;}
          else if (tmpTot<100){msOut="0"+tmpTot;}
          hacking.innerHTML="You have been hacking for "+(minTime<10?"0":"")+""+minTime+"m"+((secTime%60)<10?"0":"")+""+(secTime%60)+"s"+msOut+"ms t:("+totTime+") f:("+clock+")<br>"+randomString;
          if (clock%100<50){
            document.title="[HACKING IN PROGRESS]";
          }else{
            document.title="---";
          }
        }
        clock++;
      } 
      
      function checkInput(inStr){
        var found=false;
        for (var i=0;i<commands.length;i++){
          if (inStr==commands[i]){found=true; break;}
        }
        if (inStr.startsWith("COWSAY")||inStr.startsWith("COWTHINK")){found=true;}
        
        if (!found&&action==0){
          newLine(true);
          writing=true;
          command="'"+inStr+"' is not a valid command.%";
        }else if (inStr=="HELP"&&action==0){
          newLine(true);
          writing=true;
          command=generateAscii("HELP")+"%You're wlcome."+spacing;
        }else if (inStr=="HOME"&&action==0){
          action=100;
          newLine(true);
          writing=true;
          clearInterval(thread);
          thread=setInterval(printChar,30);
          command="Initializing SnOS.exe.dll.tar.gif...%^^0 percent...%^^20 percent...%^^40 percent...%^^60 percent...%^^80 percent...%^^100 percent...%Checking NSA database...%%%%%%%Success%Initializing SnOS...%%%%%%%%DONE%%%%%%%%Sliding some more...%%%%%%%%%Even more...%%%%%%%%%Finishing updates...%%%%%%%%%Starting SnOS..................................";
          //window.location.href="http://picturelements.github.io/";
        }else if (inStr=="PRIME"&&action==0){
          action=1;
          newLine(true);
          writing=true;
          command="How many primes do you want (1-1000)?";
        }else if (inStr=="HACK"&&action==0){
          hackTime=new Date().getTime();
          document.getElementById("hackprog").style.display="block";
          action=2;
          newLine(true);
          writing=true;
          command="---HACKER MODE INITIATED - ESC TO QUIT---%";
          var elem=document.getElementById("favicon");
          elem.parentNode.removeChild(elem);
          var link=document.createElement("link");
          link.setAttribute("id","favicon");
          link.setAttribute("rel","icon");
          link.setAttribute("href","images/mlady.jpg");
          document.head.appendChild(link);
          //setTimeout(function(){alert("LET'S GET HACKING!")},1000);
        }else if (inStr=="GAME"&&action==0){
          action=3;
          guess=Math.floor(Math.random()*1000);
          guesses=0;
          newLine(true);
          writing=true;
          command="Okay! I'm thinking of a number between 0 and 1000. Make a guess!%";
        }else if (inStr=="TTT"&&action==0){
          action=4;
          newLine(true);
          writing=true;
          clientScore=0;
          compScore=0;
          sd=[1,2,3,4,5,6,7,8,9];
          setBoard();
          sd=[' ',' ',' ',' ',' ',' ',' ',' ',' '];
          command="Play against me!%Press ESC to quit.%"+board+"You're X. Your turn.%";
        }else if (inStr=="ASCII"&&action==0){
          action=5;
          writing=true;
          newLine(true);
          command="Write anything in plain text!%"
        }else if (inStr.startsWith("COWSAY")&&action==0||inStr.startsWith("COWTHINK")&&action==0){
          //alert("COW!");
          var thinksay;
          var input;
          
          if (inStr.includes("COWSAY")){thinksay="\\"; input=inStr.replace("COWSAY ","");}
          else {thinksay="o"; input=inStr.replace("COWTHINK ","");}
          if (inStr.includes("FORTUNE")){
            input=fortunes[Math.floor(Math.random()*fortunes.length)];
          }
          writing=true;
          newLine(true);
          var counted=0,skip=false,tmpStr="",lines=[],max=0,output="";
          for (var i=0;i<input.length;i++){
            if (!skip&&counted>=25&&input.charAt(i)==' '){skip=true;}
            else if (!skip){tmpStr+=input.charAt(i); counted++;}
            else if (skip&&input.charAt(i)!=' '){lines.push(tmpStr); tmpStr=input.charAt(i); counted=1; skip=false;}
            if (counted>max){max=counted;}
          }
          lines.push(tmpStr);
          output="^"
          for (var i=0;i<max+2;i++){output+="_";}
          output+="%";
          for (var i=0;i<lines.length;i++){
            output+=("| "+lines[i]+" ");
            for (var n=0;n<max-lines[i].length;n++){output+="^"}
            output+="|%";
          }
          output+="^"
          for (var i=0;i<max+2;i++){output+="-";}
          //console.log(lines);
          command=output+"%^^^^^^^^"+thinksay+"^^^\\__/%^^^^^^^^^"+thinksay+"^^(oo)\\_______%^^^^^^^^^^^^(__)\\^^^^^^^)\\/\\%^^^^^^^^^^^^^^^^||----w^|%^v^^v^^^^^^^^^oo||^^^^^||%–\\-/---V------|------------vV----------V-v-----%";
        }else if (action==1){
          newLine(true);
          writing=true;
          var maxPrimes=parseInt(inStr);
          var isPrime;
          if (maxPrimes>1000){maxPrimes=1000;}
          else if (maxPrimes<1){maxPrimes=1;}
          var primes=[2],primeCount=1;
          command="%1: 2";
          for (var i=3;primeCount<maxPrimes;i+=2){
            isPrime=true;
            for (var n=0;primes[n]*primes[n]<=i;n++){
              if (i%primes[n]==0){isPrime=false; break;}
            }
            if (isPrime){
              primes.push(i);
              primeCount++;
              command+="%"+primeCount+": "+i;
            }
          }
          command+=spacing;
          action=0;
        }else if (action==2){
          writing=true;
          var sound=document.getElementById("osd");
          sound.currentTime=0;
          sound.play();
          //document.getElementById("hacker").innerHTML="function hack(){try{return ("+document.getElementsByTagName("input")[currentInputIndex].value+")}catch(e){return 'FUCK! SHITTY SYNTAX!'}}";
          var str=document.getElementsByTagName("input")[currentInputIndex].value;
          document.getElementById("hacker").innerHTML="function hack(){try{ "+str+"}catch(e){return 'FUCK! SHITTY SYNTAX! - '+e}}";
          var found = str.includes("alert")||str.includes("console.")||str.includes(";");
          try{
            command=">"+hack()+"%";
          }catch(e){}
          
          if (command==">undefined%"&&!found){
            var elem = document.getElementById("hacker");
            elem.parentNode.removeChild(elem);
            try{
              document.getElementById("hacker").innerHTML="function hack(){try{ return ("+document.getElementsByTagName("input")[currentInputIndex].value+")}catch(e){}}";
              try{
                command=">"+hack()+"%";
              }catch(err){}
            }catch(e){}
          //newInput();
          }
          newLine(false);
        }else if (action==3){
          userGuess=parseInt(inStr);
          guesses++;
          newLine(true);
          writing=true;
          if (userGuess<guess){command="^^^^Nope. "+userGuess+" is too small.";}
          else if (userGuess>guess){command="^^^^Nope. "+userGuess+" is too large.";}
          else if (userGuess==guess){
            command="^^^^YES! "+userGuess+" is correct! You needed "+guesses+" guesses."+spacing;
            action=0;
          }else{command="^^^^"+inStr+" is not a valid input. Try again!"; guesses--;}
        }else if (action==4){
          var inp=parseInt(inStr);
          newLine(true);
          writing=true;
          if (sd[inp-1]!=' '){
            command="Spot already taken.";
          }else{
            sd[inp-1]='X';
            var msg=placeDots();
            setBoard();
            command=board+""+msg+"%";
            if (msg!="Your turn."){
              /*command+=spacing;
              action=0;*/
              if (compStarts){
                sd=[' ',' ',' ',' ',' ',' ',' ',' ',' '];
                placeDots();
                setBoard();
              }else{
                sd=[1,2,3,4,5,6,7,8,9];
                setBoard();
                sd=[' ',' ',' ',' ',' ',' ',' ',' ',' '];
              }
          		compStarts=!compStarts;
              command+="Score:%^^You:"+clientScore+" Me:"+compScore+"%%"+board+"You're X. Your turn.";
            }
          }
        }else if (action==5){
          action=0;
          newLine(true);
          writing=true;
          command=generateAscii(inStr)+spacing;
        }
      }
      
      function setBoard(){
  		  board="^_____^_____^_____%|^^^^^|^^^^^|^^^^^|%|^^"+sd[0]+"^^|^^"+sd[1]+"^^|^^"+sd[2]+"^^|%|_____|_____|_____|%|^^^^^|^^^^^|^^^^^|%|^^"+sd[3]+"^^|^^"+sd[4]+"^^|^^"+sd[5]+"^^|%|_____|_____|_____|%|^^^^^|^^^^^|^^^^^|%|^^"+sd[6]+"^^|^^"+sd[7]+"^^|^^"+sd[8]+"^^|%|_____|_____|_____|%"
      }
      
      function placeDots(){
        var ofType,type,index,addIndex,chr;
        var canAddIn=[];    //any cell that the bot can place in
        var mustAddIn=[];   //any cell that the but must place in to prevent losing
        var shouldAddIn=[]; //any cell that the bot should add in to win
        //check rows
        for (var h=0;h<3;h++){
          ofType=0;
          type='';
          for (var w=0;w<3;w++){
            chr=sd[h*3+w];
            if (chr!=' '&&type==''||chr!=' '&&chr==type){
              ofType++;
              type=chr;
            }else{
              index=h*3+w;
            }
          }
          if (ofType==2){
            if (type=='X'&&sd[index]==' '){mustAddIn.push(index);}
            else if (sd[index]==' '){shouldAddIn.push(index);}
          }else if (ofType==3&&type=='X'){clientScore++; return "You won!";}
        }
        
        //check columns
        for (var w=0;w<3;w++){
          ofType=0;
          type='';
          for (var h=0;h<3;h++){
            chr=sd[h*3+w];
            if (chr!=' '&&type==''||chr!=' '&&chr==type){
              ofType++;
              type=chr;
            }else{
              index=h*3+w;
            }
          }
          if (ofType==2){
            if (type=='X'&&sd[index]==' '){mustAddIn.push(index);}
            else if (sd[index]==' '){shouldAddIn.push(index);}
          }else if (ofType==3&&type=='X'){clientScore++; return "You won!";}
        }
        
        //check diagonal - to bottom right
        ofType=0;
        type='';
        for (var d=0;d<3;d++){
          chr=sd[d*3+d];
          if (chr!=' '&&type==''||chr!=' '&&chr==type){
            ofType++;
            type=chr;
          }else{
            index=d*3+d;
          }
        }
        if (ofType==2){
          if (type=='X'&&sd[index]==' '){mustAddIn.push(index);}
          else if (sd[index]==' '){shouldAddIn.push(index);}
        }else if (ofType==3&&type=='X'){clientScore++; return "You won!";}
        
        //check diagonal - to upper right
        ofType=0;
        type='';
        for (var d=2;d>=0;d--){
          chr=sd[d*3+(2-d)];
          if (chr!=' '&&type==''||chr!=' '&&chr==type){
            ofType++;
            type=chr;
          }else{
            index=d*3+(2-d);
          }
        }
        if (ofType==2){
          if (type=='X'&&sd[index]==' '){mustAddIn.push(index);}
          else if (sd[index]==' '){shouldAddIn.push(index);}
        }else if (ofType==3&&type=='X'){clientScore++; return "You won!";}
        
        for (var i=0;i<9;i++){
          if (sd[i]==' '){canAddIn.push(i);}
        }
        
        if (shouldAddIn.length>0){
          addIndex=shouldAddIn[Math.floor(Math.random()*shouldAddIn.length)];
          sd[addIndex]='O';
          compScore++;
          return "Yay! I won!";
        }else if (mustAddIn.length>0){
          addIndex=mustAddIn[Math.floor(Math.random()*mustAddIn.length)];
        }else{
          addIndex=canAddIn[Math.floor(Math.random()*canAddIn.length)];
        }
        if (canAddIn.length==0||canAddIn.length==1&&!compStarts){
          if (canAddIn.length==1){sd[canAddIn[0]]='O';}
          return "It's a draw!";
        }
        sd[addIndex]='O';
        return "Your turn."
      }
      
      function generateAscii(inStr){
        var output="%";
        var vals=[];
        for (var i=0;i<inStr.length;i++){
          if (inStr.charAt(i)!=' '){
          	vals.push(inStr.charCodeAt(i));
          }else{
            vals.push(-1);	//space
            //alert("SPACE!");
          }
        }
        for (var i=0;i<6;i++){
          for (var n=0;n<vals.length;n++){
            if (vals[n]>=65&&vals[n]<=90){
            	output+=ascii_letters[(vals[n]-65)*6+i]+"^";
            }if (vals[n]>=48&&vals[n]<=57){
            	output+=ascii_numbers[(vals[n]-48)*6+i]+"^";
            }else if (vals[n]==-1){
              output+="^^^^";
            }
          }
          output+="%";
        }
        return output;
      }
      
      setTimeout(function(){thread=setInterval(printChar,10); var sound=document.getElementById("osd"); sound.play(); sound.volume=0.03;},2000);
    </script>
  </body>
</html>

<!--<html>
  <head>
    <link rel="icon" href="pelement.png">
    <title>Nope. Nothing here.</title>
    <style>
      body{
        background-color:#3c005b;
        margin:0;
      }
      main{
        display:block;
        position:absolute;
        width:100%;
        text-align:center;
        font-family:Trebuchet MS,Arial,sans-serif;
        font-size:20vw;
        color:white;
        top:50%;
        margin-top:-17vw;
      }
      sub{
        display:block;
        position:absolute;
        width:100%;
        text-align:center;
        font-family:Trebuchet MS,Arial,sans-serif;
        font-size:2.5vw;
        color:white;
        top:50%;
        margin-top:10vw;
      }
    </style>
  </head>
  <body>
    <main>;-;</main>
    <sub>Oh no! There's nothing here!</sub>
  </body>
</html>-->
